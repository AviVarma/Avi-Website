<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    {{- if not .IsHome }}{{ with .Title }}{{ . }} :: {{ end }}{{ end }}
    {{- .Site.Title }}{{ with .Site.Params.Subtitle }} â€” {{ . }}{{ end }}
  </title>
  <meta
    name="description"
    content="{{ with .Description }}{{ . }}{{ else }}{{ with .Summary | plainify }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}{{ end }}"
  />
  <link rel="canonical" href="{{ .Permalink }}" />

  <!-- Extensibility -->
  {{ partial "head_start.html" . }}

  <!-- Styles -->
  {{- $options := (dict "inlineImports" true) -}}

  {{ $vendor := resources.Get "css/vendor.css" | resources.ExecuteAsTemplate "css/vendor.css" . | resources.PostCSS $options -}}
  {{- if hugo.IsProduction -}}
    {{- $vendor = $vendor | minify | fingerprint "sha512" -}}
    <link rel="stylesheet" href="{{ $vendor.RelPermalink }}" integrity="{{ $vendor.Data.Integrity }}" />
  {{- else -}}
    <link rel="stylesheet" href="{{ $vendor.RelPermalink }}" />
  {{- end }}

  {{ $style := resources.Get "css/main.css" | resources.PostCSS $options -}}
  {{- if hugo.IsProduction -}}
    {{- $style = $style | minify | fingerprint "sha512" -}}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity }}" />
  {{- else -}}
    <link rel="stylesheet" href="{{ $style.RelPermalink }}" />
  {{- end }}

  <!-- Internal Hugo Templates -->
  {{ template "_internal/twitter_cards.html" . }}
  {{ template "_internal/opengraph.html" . }}

  <!-- Extensibility -->
  {{ partial "head_end.html" . }}
</head>
